<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Test Registration Form</title>
  <link rel="stylesheet" href="registration-styles.css">
  <style>
    .test-info {
      background: #f8f9fa;
      border: 1px solid #ecf0ef;
      border-radius: 8px;
      padding: 20px;
      margin: 20px auto;
      max-width: 600px;
    }
    
    .test-button {
      background: #3498db;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 4px;
      cursor: pointer;
      margin: 5px;
    }
    
    .test-button:hover {
      background: #2980b9;
    }
  </style>
</head>
<body>
  <div class="test-info">
    <h2>Registration Form Test</h2>
    <p>This page tests the fixed registration form.</p>
    <p><strong>Expected behavior:</strong></p>
    <ul>
      <li>✅ Fill all required fields correctly</li>
      <li>✅ Click "Sign Up"</li>
      <li>✅ Should see success modal (no error messages)</li>
    </ul>
    
    <button class="test-button" onclick="fillValidForm()">Fill Valid Form</button>
    <button class="test-button" onclick="clearForm()">Clear Form</button>
  </div>

  <!-- Include the registration form -->
  <div class="form-container">
    <h1>Sign Up</h1>
    <form id="registration-form">
      <section>
        <h2><span class="dot"></span> Your basic info</h2>
        
        <label for="first_name">First Name: *
          <input type="text" id="first_name" name="first_name" required 
                 placeholder="Enter your first name" 
                 maxlength="50">
          <span class="error-message" id="first_name_error"></span>
        </label>

        <label for="last_name">Last Name: *
          <input type="text" id="last_name" name="last_name" required 
                 placeholder="Enter your last name" 
                 maxlength="50">
          <span class="error-message" id="last_name_error"></span>
        </label>

        <label for="email">Email: *
          <input type="email" id="email" name="email" required 
                 placeholder="Enter your email address" 
                 maxlength="100">
          <span class="error-message" id="email_error"></span>
        </label>

        <label for="username">Username: *
          <input type="text" id="username" name="username" required 
                 placeholder="Choose a username (3-20 characters)" 
                 maxlength="20">
          <span class="error-message" id="username_error"></span>
        </label>

        <label for="password">Password: *
          <div class="password-input-container">
            <input type="password" id="password" name="password" required 
                   placeholder="Enter your password (min 8 characters)" 
                   minlength="8" maxlength="128">
            <button type="button" class="password-toggle" onclick="togglePassword('password')">
              <svg class="eye-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                <circle cx="12" cy="12" r="3"></circle>
              </svg>
            </button>
          </div>
          <span class="error-message" id="password_error"></span>
          <div class="password-requirements">
            <small>Password must contain: uppercase, lowercase, number, special character, min 8 chars</small>
          </div>
          <div class="password-strength">
            <div class="password-strength-bar"></div>
          </div>
        </label>

        <label for="confirm_password">Confirm Password: *
          <div class="password-input-container">
            <input type="password" id="confirm_password" name="confirm_password" required 
                   placeholder="Confirm your password" 
                   minlength="8" maxlength="128">
            <button type="button" class="password-toggle" onclick="togglePassword('confirm_password')">
              <svg class="eye-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M1 12s4-8 11 8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                <circle cx="12" cy="12" r="3"></circle>
              </svg>
            </button>
          </div>
          <span class="error-message" id="confirm_password_error"></span>
        </label>
      </section>

      <section>
        <h2><span class="dot"></span> Other details</h2>
        <label for="birth_date">Birth Date: *
          <input type="date" id="birth_date" name="birth_date" required 
                 max="2006-12-31" 
                 title="You must be at least 18 years old">
          <span class="error-message" id="birth_date_error"></span>
        </label>

        <fieldset>
          <legend>Gender: *</legend>
          <label><input type="radio" name="gender" value="male" required> Male</label>
          <label><input type="radio" name="gender" value="female"> Female</label>
          <label><input type="radio" name="gender" value="other"> Other</label>
          <span class="error-message" id="gender_error"></span>
        </fieldset>

        <label for="about_me">About Me:
          <textarea id="about_me" name="about_me" 
                    placeholder="Tell us about yourself... (optional)" 
                    rows="4" maxlength="500"></textarea>
          <div class="char-count">
            <small><span id="about_me_count">0</span>/500 characters</small>
          </div>
        </label>

        <label for="profession">Choose Your Profession: *
          <select id="profession" name="profession" required>
            <option value="">Select a profession</option>
            <option value="web_development">Web Development</option>
            <option value="data_analytics">Data Analytics</option>
            <option value="ui_ux_design">UI/UX Design</option>
            <option value="ai">AI</option>
            <option value="other">Other</option>
          </select>
          <span class="error-message" id="profession_error"></span>
        </label>
      </section>

      <label class="terms">
        <input type="checkbox" id="terms" name="terms" required>
        I'm accepting Terms and Conditions *
        <span class="error-message" id="terms_error"></span>
      </label>

      <button type="submit">Sign Up</button>
    </form>
  </div>

  <!-- Success Modal -->
  <div id="success-modal" class="success-modal-overlay" style="display: none;">
    <div class="success-modal">
      <div class="success-icon">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
          <polyline points="22,4 12,14.01 9,11.01"></polyline>
        </svg>
      </div>
      <h2>Registration Successful!</h2>
      <p>Welcome aboard! Your account has been created successfully.</p>
      <div class="success-details">
        <div class="detail-item">
          <span class="detail-label">Username:</span>
          <span class="detail-value" id="success-username"></span>
        </div>
        <div class="detail-item">
          <span class="detail-label">Email:</span>
          <span class="detail-value" id="success-email"></span>
        </div>
      </div>
      <div class="success-actions">
        <button class="success-btn primary" onclick="hideSuccessModal()">
          Continue
        </button>
        <button class="success-btn secondary" onclick="hideSuccessModal()">
          Go to Dashboard
        </button>
      </div>
    </div>
  </div>

  <script>
    // Test functions
    function fillValidForm() {
      document.getElementById('first_name').value = 'John';
      document.getElementById('last_name').value = 'Doe';
      document.getElementById('email').value = 'john.doe@example.com';
      document.getElementById('username').value = 'johndoe123';
      document.getElementById('password').value = 'Password123!';
      document.getElementById('confirm_password').value = 'Password123!';
      document.getElementById('birth_date').value = '1990-01-01';
      document.querySelector('input[name="gender"][value="male"]').checked = true;
      document.getElementById('profession').value = 'web_development';
      document.getElementById('terms').checked = true;
      
      console.log('Form filled with valid data');
    }
    
    function clearForm() {
      document.getElementById('registration-form').reset();
      const errorMessages = document.querySelectorAll('.error-message');
      errorMessages.forEach(msg => msg.textContent = '');
      console.log('Form cleared');
    }
    
    // Password toggle functionality
    function togglePassword(fieldId) {
      const passwordField = document.getElementById(fieldId);
      const toggleButton = passwordField.nextElementSibling;
      const eyeIcon = toggleButton.querySelector('.eye-icon');
      
      if (passwordField.type === 'password') {
        passwordField.type = 'text';
        eyeIcon.innerHTML = `
          <path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path>
          <line x1="1" y1="1" x2="23" y2="23"></line>
        `;
        toggleButton.setAttribute('title', 'Hide password');
      } else {
        passwordField.type = 'password';
        eyeIcon.innerHTML = `
          <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
          <circle cx="12" cy="12" r="3"></circle>
        `;
        toggleButton.setAttribute('title', 'Show password');
      }
    }
    
    // Make hideSuccessModal globally available
    window.hideSuccessModal = function() {
      document.getElementById('success-modal').style.display = 'none';
    };
  </script>

  <script src="registration.js"></script>
</body>
</html>
